<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lake Superior Shipwrecks</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        /* Set the size of the map */
        #map {
            width: 100%;
            height: 100%;
            position: absolute; 
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }
    </style>
</head>
<body>
    <h1>Lake Superior Shipwrecks</h1>
    <div id="map"></div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Initialize the map and set its view to the chosen geographical coordinates and zoom level
        var map = L.map('map').setView([47.7231, -86.9407], 5); // Coordinates set to Lake Superior by default

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        // GeoJSON dataset
        var dataset1 = [
        {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-84.95258, 46.76947]
                },
                properties: {
                    title: 'Jupiter',
                    description: 'Ran aground and sunk with 6 aboard during a winter storm. The <i>Jupiter</i> was on a towline with sister ship <i>Saturn</i> and the steamer <i> John A Dix</i> during a storm. The towline separated from the <i>Dix</i>, which survived. Both the <i>Jupiter</i> and the <i>Saturn</i> were lost with all their crew and cargo. Recovery efforts were discontinued in May, 1873. Captain Peter Howard was the only named victim.',
                    time: '11/27/1872',
                    image: 'images/Jupiter-Saturn_Shipwrecks_CHI24.png', // Replace with your image URL
             
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-84.705417, 46.5718]
                },
                properties: {
                    title: 'SS Samuel Mather',
                    description: 'During clear weather, the <i>Samuel Mather</i> and the <i>Brazil</i> collided roughly 8 miles from shore. The cause of the collision between the ships, bound in opposite directions, was part of libel proceedings. The collision occurred at night and sudden thick fog likely obscured the collision course until it was too late. All hands aboard the <i>Samuel Mather</i> were rescued by the <i>Brazil</i>.',
                    time: '11/21/1891',
                    image: 'images/samuel_mather_(1887).jpg', // Replace with your image URL
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },  
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-85.0274332, 46.807717]
                },
                properties: {
                    title: 'SS Myron',
                    description: 'Lost in a gale in November 1919. The <i>Myron</i> was towing the barge <i>Miztec</i> which survived after it was cut loose. The <i>Adriatic</i> attempted to assisted <i>Myron</i>, but the conditions were too bad. The <i>Myron</i> suffered massive hull damage as the waves tore at the wooden ship. The crew attempted to use the life boats, but the <i>Adriatic</i> could not reach them through the debris. The <i>H P MacIntosh</i> also attempted to rescue the crew, but the frigid temperatures and high winds prevented their success. They were later recovered encased in ice. The captain stayed with the ship and was recovered on the wreckage near Isle Parisienne. Only 8 of the 17 crew were recovered.',
                    time: '1992/01',
                    image: 'images/mark_hopkings_myron-ship.jpg', // Replace with your image URL
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            }, 
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-85.025783, 46.765867]
                },
                properties: {
                    title: 'Saturn',
                    description: 'Ran aground',
                    time: '11/26/1872',
                    image: 'images/jupiter-saturn_shipwrecks_CHI24.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            }, 
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-85.110167, 46.9985]
                },
                properties: {
                    title: 'Edmund Fitzgerald',
                    description: 'Sunk on November 10, 1975',
                    time: '11/10/1975',
                    image: 'images/edumund_fitzgerald,_1971_3_of_4(restored;_cropped).jpg', // Replace with your image URL
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
                properties: {
                    title: 'Ship 6',
                    description: 'NAME',
                    time: '1992/01',
                    image: 'images/spencer.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
                properties: {
                    title: 'Ship 7',
                    description: 'NAME',
                    time: '1992/01',
                    image: 'images/spencer.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
                properties: {
                    title: 'Ship 8',
                    description: 'NAME',
                    time: '1992/01',
                    image: 'images/spencer.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
                properties: {
                    title: 'Ship 9',
                    description: 'NAME',
                    time: '1992/01',
                    image: 'images/spencer.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
                properties: {
                    title: 'Ship 10',
                    description: 'NAME',
                    time: '1992/01',
                    image: 'images/spencer.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
        {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
                properties: {
                    title: 'Ship 11',
                    description: 'George Spencer',
                    time: '1992/01',
                    image: 'images/spencer.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.448028, 46.94475]
                },
                properties: {
                    title: 'Ship 12',
                    description: 'Ira H. Owen',
                    time: '1992/07',
                    image: 'https://via.placeholder.com/200', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-91.54935, 47.094917]
                },
                properties: {
                    title: 'Ship 13',
                    description: 'Lafayette',
                    time: '1992/06',
                    image: 'https://via.placeholder.com/200', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            } 
        ];

        // Function to handle each feature in the GeoJSON
        function onEachFeature(feature, layer) {
            if (feature.properties) {
                // Create content for the popup
                var content = `
                    <div style='clear: both'></div>
                    <div style='float: left; padding: 5px; margin-right: 10px'>
                        <img style='width: 200px;' src='${feature.properties.image}' alt='Ship Image' />
                    </div>
                    <div>
                        <h4>${feature.properties.title}</h4>
                        <p><strong>Year:</strong> ${feature.properties.time}</p>
                        <p>${feature.properties.description}</p>
                    </div>`;
                
                // Create a custom Leaflet icon
                var customIcon = L.icon(feature.properties.icon);

                // Set the custom icon for the layer
                layer.setIcon(customIcon);

                // Bind the popup to the layer
                layer.bindPopup(content, { closeButton: true });
            }
        }

        // Add the GeoJSON layer to the map
        var group1 = L.geoJSON(dataset1, {
            pointToLayer: function(feature, latlng) {
                return L.marker(latlng); // Use marker layers for points
            },
            onEachFeature: onEachFeature
        }).addTo(map);
    </script>
</body>
</html>
