<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lake Superior Shipwrecks</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        /* Set the size of the map */
        #map {
            width: 100%;
            height: 100%;
            position: absolute; 
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }
    </style>
</head>
<body>
    <h1>Lake Superior Shipwrecks</h1>
    <div id="map"></div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Initialize the map and set its view to the chosen geographical coordinates and zoom level
        var map = L.map('map').setView([47.7231, -86.9407], 5); // Coordinates set to Lake Superior by default

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // GeoJSON dataset
        var dataset1 = [
        {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-84.95258, 46.76947]
                },
                properties: {
                    title: 'Jupiter',
                    description: 'Ran aground and sunk with 6 aboard during a winter storm. The <i>Jupiter</i> was on a towline with sister ship <i>Saturn</i> and the steamer <i> John A Dix</i> during a storm. The towline separated from the <i>Dix</i>, which survived. Both the <i>Jupiter</i> and the <i>Saturn</i> were lost with all their crew and cargo. Recovery efforts were discontinued in May, 1873. Captain Peter Howard was the only named victim.',
                    time: '1872/11/27',
                    image: 'images/Jupiter-Saturn_Shipwrecks_CHI24.png', // Replace with your image URL
             
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-84.705417, 46.5718]
                },
                properties: {
                    title: 'SS Samuel Mather',
                    description: 'During clear weather, the <i>Samuel Mather</i> and the <i>Brazil</i> collided roughly 8 miles from shore. The cause of the collision between the ships, bound in opposite directions, was part of libel proceedings. The collision occurred at night and sudden thick fog likely obscured the collision course until it was too late. All hands aboard the <i>Samuel Mather</i> were rescued by the <i>Brazil</i>.',
                    time: '1891/11/21',
                    image: 'images/samuel_mather_(1887).jpg', // Replace with your image URL
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },  
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-85.0274332, 46.807717]
                },
                properties: {
                    title: 'SS Myron',
                    description: 'Lost in a gale in November 1919. The <i>Myron</i> was towing the barge <i>Miztec</i> which survived after it was cut loose. The <i>Adriatic</i> attempted to assisted <i>Myron</i>, but the conditions were too bad. The <i>Myron</i> suffered massive hull damage as the waves tore at the wooden ship. The crew attempted to use the life boats, but the <i>Adriatic</i> could not reach them through the debris. The <i>H P MacIntosh</i> also attempted to rescue the crew, but the frigid temperatures and high winds prevented their success. They were later recovered encased in ice. The captain stayed with the ship and was recovered on the wreckage near Isle Parisienne. Only 8 of the 17 crew were recovered.',
                    time: '1919/11/23',
                    image: 'images/mark_hopkins_myron-ship.jpg', // Replace with your image URL
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            }, 
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-85.025783, 46.765867]
                },
                properties: {
                    title: 'Saturn',
                    description: 'Ran aground and sunk with 7 aboard during a winter storm. The <i>Saturn</i> was on a towline with sister ship <i>Jupiter</i>and the steamer <i>John A Dix</i> during a storm. The towline separated from the <i>Dix</i>, both the <i>Jupiter</i> and <i>Saturn</i> were lost with their crew and cargo. Recovery efforts were discontinued in May, 1873. Victims were unnamed captian, Harvey Cusher, William Langendorff and wife, George Archer, James, and Philip.',
                    time: '1872/11/27',
                    image: 'images/jupiter-saturn_shipwrecks_CHI24.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            }, 
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-85.110167, 46.9985]
                },
                properties: {
                    title: 'Edmund Fitzgerald',
                    description: 'Sunk on November 10, 1975 during a storm. The <i>Edmund Fitzgerald</i> was sailing near the <i>Arthur M Anderson</i>, which would be the first to search for survivors, and the <i>Wilfred Sykes</i>. The ship took on water, developed a list, and lost radar, but no distress signal was sent. Captain McSorley’s last communication with the <i>Arthur M Anderson</i> was, “We are holding our own.” A significant search was undertaken, but found only debris. All 29 crew were lost and never recovered. The ship broke into two pieces and is the largest ship to sail & sink on the Great Lakes.',
                    time: '1975/11/10',
                    image: 'images/Edmund_Fitzgerald,_1971,_3_of_4_(restored;_cropped).jpg', // Replace with your image URL
                    icon: {
                        iconUrl: 'images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
            properties: {
                title: 'SS Chester A. Congdon',
                description: 'Type: Lake freighter <br>En route to Port McNicoll, ON, the <em>Chester A Congdon</em> encountered a heavy storm. After attempting to shelter in Thunder Bay, ON, the captain continued the journey, where the ship met heavy fog. She ran aground on the northeastern point of Isle Royale in the early afternoon. The <em>Congdon<em> broke in two and delayed assistance. <a href="--" target="_blank"Learn more</a>', //change link
                time: '1918/11/06', //year month day
                image: 'images/Chester_A._Congdon.jpg',
                icon: {
                    iconUrl: 'images/cargo-ship.png',
                    iconSize: [40, 40],
                    iconAnchor: [3, 35],
                    popupAnchor: [0, -41],
                    className: 'dot',
                    }
                }
            },
                {
            type: 'Feature',
            geometry: {
                type: 'Point',
                coordinates: [-87.333, 46.914]
            },
            properties: {
                title: 'SS Henry B Smith',
                description: 'Type: Lake freighter<br> One of twelve ships sunk during the Great Lakes Storm of 1913 (7-10 November 1913). Under pressure from the owners, the <em>Smith</em> left port during a lull in the on-going storms. The storm proved to be much stronger than expected with little information provided for ships. Although the <em>Smith</em> attempted to avoid the storm it was soon lost. All 25 of the crew were lost and only two bodies ever recovered. Of the two sunk during the storm on Lake Superior, only the <em>Smith’s</em> wreckage has been located (in 2013).<a href="https://calendar.eji.org/racial-injustice/may/20" target="_blank"Learn more</a>',
                time: '1913/11/10',
                image: 'images/Henry_B_Smith_LOC_det_4a16048.jpg',
                icon: {
                    iconUrl: 'images/cargo-ship.png',
                    iconSize: [40, 40],
                    iconAnchor: [3, 35],
                    popupAnchor: [0, -41],
                    className: 'dot',
                    }
                }
            },
            {
            type: 'Feature',
            geometry: {
                type: 'Point',
                coordinates: [-84.35, 46.503333]
            },
            properties: {
                title: 'SS D M Clemson',
                description: 'Last seen at the Soo Locks on December 1, 1908, the cause of the <em>Clemson’s</em> sinking has never been confirmed. It is possible the ship foundered during a storm (<em>Buffalo Evening News</em>). It is also possible a collision earlier in 1908, although repaired, caused structural damage which led to the sinking. The whole 24-person crew was lost and only five bodies ever recovered. <a href="https://calendar.eji.org/racial-injustice/may/20" target="_blank"Learn more</a>',
                time: '1961/05/20',
                image: 'images/D.M._Clemson_2.jpg',
                icon: {
                    iconUrl: 'images/cargo-ship.png',
                    iconSize: [40, 40],
                    iconAnchor: [3, 35],
                    popupAnchor: [0, -41],
                    className: 'dot',
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
                properties: {
                    title: 'Ship 9',
                    description: 'NAME',
                    time: '1992/01',
                    image: 'images/spencer.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
                properties: {
                    title: 'Ship 10',
                    description: 'NAME',
                    time: '1992/01',
                    image: 'images/spencer.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
        {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.999722, 47.478056]
                },
                properties: {
                    title: 'George Spencer',
                    description: 'The <i>George Spencer</i> and her schooner barge, the <i>Amboy</i>, set out from Duluth, MN for Buffalo, NY. During the Mataafa Storm, the <i>Spencer</i> separated from the Amboy, but both ships ran ashore. Both crews were successfully rescued. Some cargo was saved, but both ships were lost. Large pieces of the Spencer can still be seen just south of Sugar Loaf Cove',
                    time: '1905/11/28',
                    image: 'images/spencer.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'Images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-90.448028, 46.94475]
                },
                properties: {
                    title: 'Ira H. Owen',
                    description: 'One of the 20 ships wrecked in the Mataafa Storm in 1905. After leaving Duluth with “light cargo” (barley), the <i>Owen</i> encountered poor conditions. Rather than seeking shelter, the ship continued on. She was seen by the <i>Harold B Nye</i> near Outer Island (in the Apostle Islands), blowing distress signals. The conditions prevented the <i>Nye</i> from rendering aid and they lost sight of the <i>Owen</i>. Later the captain of the <i>Sir William Siemens</i> saw debris from the <i>Owen</i>. The whole crew of 19 was lost and have not been recovered. The wreck has not been officially located. The <i>Ira H Owen</i> was the only wreck of the Mataafa Storm to lose all hands.',
                    time: '1905/11/28',
                    image: 'Images/Owen.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'Images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-91.54935, 47.094917]
                },
                properties: {
                    title: 'Ship 13',
                    description: 'Lafayette',
                    time: '1992/06',
                    image: 'https://via.placeholder.com/200', // Replace with your image URL
                    icon: {
                        iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-91.358056, 47.206111]
                },
                properties: {
                    title: 'Madeira',
                    description: 'One of the 20 ships wrecked in the Mataafa storm in 1905. The Madeira was under the tow of the William Edenborn when the two ships encountered a storm. During the storm, the captain of the Edenborn cut the Madeira loose. Shortly after, the Madeira crashed into Gold Rock Point, just north of Split Rock. At least nine of the crew were saved via a safety line to shore, provided by a crewman. The first mate went down with the ship. As a consequence of the storm and number of shipwrecks, many lighthouses were built, including Split Rock, just south of the wreck of the Madeira.',
                    time: '1905/11/28',
                    image: 'Images/Madiera.png', // Replace with your image URL
                    icon: {
                        iconUrl: 'Images/cargo-ship.png',
                        iconSize: [25, 41],
                        iconAnchor: [12, 41],
                        popupAnchor: [1, -34]
                    }
                }
            },
           


        ];

        // Function to handle each feature in the GeoJSON
        function onEachFeature(feature, layer) {
            if (feature.properties) {
                // Create content for the popup
                var content = `
                    <div style='clear: both'></div>
                    <div style='float: left; padding: 5px; margin-right: 10px'>
                        <img style='width: 200px;' src='${feature.properties.image}' alt='Ship Image' />
                    </div>
                    <div>
                        <h4>${feature.properties.title}</h4>
                        <p><strong>Year:</strong> ${feature.properties.time}</p>
                        <p>${feature.properties.description}</p>
                    </div>`;
                
                // Create a custom Leaflet icon
                var customIcon = L.icon(feature.properties.icon);

                // Set the custom icon for the layer
                layer.setIcon(customIcon);

                // Bind the popup to the layer
                layer.bindPopup(content, { closeButton: true });
            }
        }

        // Add the GeoJSON layer to the map
        var group1 = L.geoJSON(dataset1, {
            pointToLayer: function(feature, latlng) {
                return L.marker(latlng); // Use marker layers for points
            },
            onEachFeature: onEachFeature
        }).addTo(map);
    </script>
</body>
</html>
